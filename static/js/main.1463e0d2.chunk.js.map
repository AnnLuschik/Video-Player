{"version":3,"sources":["VideoPlayer/actions.js","VideoPlayer/reducer.js","VideoPlayer/middleware.js","VideoPlayer/components/PlayButton/PlayButton.jsx","VideoPlayer/components/PauseButton/PauseButton.jsx","VideoPlayer/components/PlayFromStartButton/PlayFromStartButton.jsx","VideoPlayer/components/FullScreenButton/FullScreenButton.jsx","assets/full-screen-icon.png","VideoPlayer/VideoPlayer.jsx","App.js","store/rootReducer.js","store/store.js","reportWebVitals.js","index.js"],"names":["GET_DATA_REQUEST","GET_DATA_SUCCESS","GET_DATA_FAILURE","initialState","responseData","loading","errorMessage","PlayButton","onClick","StyledButton","styled","button","PauseButton","PlayFromStartButton","StyledDiv","div","FullScreenButton","bcg","props","VideoPlayer","React","memo","url","useState","isPlaying","setIsPlaying","currentTime","playerRef","useRef","togglePlay","useCallback","e","target","pause","play","current","playFromStart","toFullScreen","requestFullscreen","VideoContainer","StyledVideo","src","ref","Controls","ViewControls","DurationText","duration","toFixed","CommonControls","video","p","Container","App","dispatch","useDispatch","useSelector","state","videoPlayer","videoUrl","setVideoUrl","useEffect","type","data","find","item","format","rootReducer","combineReducers","action","payload","store","configureStore","reducer","middleware","next","fetch","then","response","json","result","catch","error","getDataFailure","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1463e0d2.chunk.js","sourcesContent":["export const GET_DATA_REQUEST = 'GET_DATA_REQUEST';\nexport const GET_DATA_SUCCESS = 'GET_DATA_SUCCESS';\nexport const GET_DATA_FAILURE = 'GET_DATA_FAILURE';\n\nexport function getDataRequest() {\n  return {\n    type: GET_DATA_REQUEST,\n  }\n}\n\nexport function getDataSuccess(data) {\n  return {\n    type: GET_DATA_SUCCESS,\n    payload: data,\n  }\n}\n\nexport function getDataFailure(error) {\n  return {\n    type: GET_DATA_FAILURE,\n    payload: error,\n  }\n}\n","import { GET_DATA_REQUEST, GET_DATA_SUCCESS, GET_DATA_FAILURE } from './actions';\n\nconst initialState = {\n  responseData: null,\n  loading: false,\n  errorMessage: null,\n};\n\nexport function videoPlayerReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_DATA_REQUEST: {\n      return {\n        ...state,\n        loading: true,\n      }\n    }\n    case GET_DATA_SUCCESS: {\n      return {\n        ...state,\n        responseData: action.payload,\n        loading: false,\n      }\n    }\n    case GET_DATA_FAILURE: {\n      return {\n        ...state,\n        errorMessage: action.payload,\n        loading: false,\n      }\n    }\n    default: return state;\n  }\n}\n","import { GET_DATA_REQUEST, getDataSuccess, getDataFailure } from './actions';\n\nexport const videoPlayerMiddleware = (store) => (next) => (action) => {\n  if (action.type === GET_DATA_REQUEST) {\n    fetch('https://dl.dropboxusercontent.com/s/jse5lx9xnmcav51/media.json')\n      .then((response) => response.json())\n      .then((result) => store.dispatch(getDataSuccess(result)))\n      .catch((error) => store.dispatch(getDataFailure(error)));\n  }\n  next(action);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nexport const PlayButton = ({ onClick }) => (\n  <StyledButton onClick={onClick} />\n)\n\nPlayButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nconst StyledButton = styled.button`\n  position: relative;\n  width: 20px;\n  height: 20px;\n  background: transparent;\n  cursor: pointer;\n  outline: none;\n  border: none;\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    border-top: 10px solid transparent;\n    border-left: 20px solid #ffffff;\n    border-bottom: 10px solid transparent;\n  }\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nexport const PauseButton = ({ onClick }) => (\n  <StyledButton onClick={onClick} />\n)\n\nPauseButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nconst StyledButton = styled.button`\n  position: relative;\n  width: 20px;\n  height: 20px;\n  background: transparent;\n  cursor: pointer;\n  outline: none;\n  border: none;\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    border-right: 20px double #ffffff;\n    border-bottom: 0;\n  }\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nexport const PlayFromStartButton = ({ onClick }) => (\n  <StyledDiv onClick={onClick} />\n)\n\nPlayFromStartButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nconst StyledDiv = styled.div`\n  width: 20px;\n  height: 20px;\n  background: #ffffff;\n  cursor: pointer;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { fullScreenIcon } from '../../../assets';\n\nexport const FullScreenButton = ({ onClick }) => (\n  <StyledButton onClick={onClick} bcg={fullScreenIcon} />\n)\n\nFullScreenButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nconst StyledButton = styled.button`\n  width: 22px;\n  height: 22px;\n  background: url(${(props) => props.bcg});\n  cursor: pointer;\n  outline: none;\n  border: none;\n`;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABNmlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjarY6xSsNQFEDPi6LiUCsEcXB4kygotupgxqQtRRCs1SHJ1qShSmkSXl7VfoSjWwcXd7/AyVFwUPwC/0Bx6uAQIYODCJ7p3MPlcsGo2HWnYZRhEGvVbjrS9Xw5+8QMUwDQCbPUbrUOAOIkjvjB5ysC4HnTrjsN/sZ8mCoNTIDtbpSFICpA/0KnGsQYMIN+qkHcAaY6addAPAClXu4vQCnI/Q0oKdfzQXwAZs/1fDDmADPIfQUwdXSpAWpJOlJnvVMtq5ZlSbubBJE8HmU6GmRyPw4TlSaqo6MukP8HwGK+2G46cq1qWXvr/DOu58vc3o8QgFh6LFpBOFTn3yqMnd/n4sZ4GQ5vYXpStN0ruNmAheuirVahvAX34y/Axk/96FpPYgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6AAAUggAARVYAAA6lwAAF2/XWh+QAAAAaUlEQVR42uyUUQrAIAxDfcP7Xzn7LWrpNiibrPmroLVJGiS1TBwtGekN+lAv+QJYncvnl9cmmH4QgIiB/UVOb4A1gmOW27BvlgZ/c5HZRIYsCt3i3S8NHqepLqarPueiEnnCCQAA//8DAMMZHCeNmkyJAAAAAElFTkSuQmCC\"","import React, {\n  useState, useCallback, useRef,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport {\n  PlayButton, PauseButton, PlayFromStartButton, FullScreenButton,\n} from './components';\n\nexport const VideoPlayer = React.memo(({ url }) => {\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime] = useState(0);\n\n  const playerRef = useRef(null);\n\n  const togglePlay = useCallback((e) => {\n    if (isPlaying) {\n      e.target.pause();\n      setIsPlaying(false);\n    } else {\n      e.target.play();\n      setIsPlaying(true);\n    }\n  }, [isPlaying]);\n\n  const pause = useCallback(() => {\n    playerRef.current.pause();\n    setIsPlaying(false);\n  }, []);\n\n  const play = useCallback(() => {\n    playerRef.current.play();\n    setIsPlaying(true);\n  }, []);\n\n  const playFromStart = useCallback(() => {\n    playerRef.current.currentTime = 0;\n    playerRef.current.play();\n    setIsPlaying(true);\n  }, []);\n\n  const toFullScreen = useCallback(() => {\n    playerRef.current.requestFullscreen();\n  }, []);\n\n  return (\n    <VideoContainer>\n      <StyledVideo src={url} ref={playerRef} onClick={togglePlay} />\n      <Controls>\n        <ViewControls>\n          {isPlaying ? <PauseButton onClick={pause} /> : <PlayButton onClick={play} />}\n          <PlayFromStartButton onClick={playFromStart} />\n          <DurationText>{`${currentTime} / ${playerRef.current?.duration.toFixed(2)}`}</DurationText>\n        </ViewControls>\n        <CommonControls>\n          <FullScreenButton onClick={toFullScreen} />\n        </CommonControls>\n      </Controls>\n    </VideoContainer>\n  );\n});\n\nVideoPlayer.propTypes = {\n  url: PropTypes.string,\n};\n\nconst VideoContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst StyledVideo = styled.video`\n  cursor: pointer;\n`;\n\nconst Controls = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 5px 10px;\n  background: #323232;\n`;\n\nconst ViewControls = styled.div`\n  width: 25%;\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst CommonControls = styled.div`\n  width: 20%;\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst DurationText = styled.p`\n  color: #ffffff;\n`;\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport styled from 'styled-components'\nimport { VideoPlayer, getDataRequest } from './VideoPlayer';\n\nfunction App() {\n  const dispatch = useDispatch();\n  const { responseData } = useSelector((state) => state.videoPlayer);\n\n  const [videoUrl, setVideoUrl] = useState('');\n\n  useEffect(() => {\n    dispatch(getDataRequest())\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (responseData) {\n      setVideoUrl(responseData.data.find((item) => item.format === 'mp4').url);\n    }\n  }, [responseData]);\n\n  return (\n    <Container>\n      <VideoPlayer url={videoUrl} />\n    </Container>\n\n  );\n}\n\nconst Container = styled.div`\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport default App;\n","import { combineReducers } from 'redux';\nimport { videoPlayerReducer } from '../VideoPlayer';\n\nexport const rootReducer = combineReducers({\n  videoPlayer: videoPlayerReducer,\n});\n","import { configureStore } from '@reduxjs/toolkit';\nimport { rootReducer } from './rootReducer';\nimport { videoPlayerMiddleware } from '../VideoPlayer';\n\nexport const store = configureStore({\n  reducer: rootReducer,\n  middleware: [videoPlayerMiddleware],\n});\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport App from './App';\nimport { store } from './store'\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}